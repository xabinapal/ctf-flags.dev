services:
  site:
    image: ghcr.io/github/pages:latest
    command: bundle exec jekyll serve --livereload --host 0.0.0.0 --force_polling
    working_dir: /srv/jekyll
    ports:
      - "4000:4000"
      - "35729:35729"
    volumes:
      - ./:/srv/jekyll:delegated
    environment:
      JEKYLL_ENV: development
    # Avoids permission issues when bundler caches gems inside the mounted volume
    user: "1000:1000"
